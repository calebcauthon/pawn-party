<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <script src="lib/jquery.js"></script>
    <link rel="stylesheet" href="lib/qunit.css"
        type="text/css" media="screen" />
    <script type="text/javascript" src="lib/qunit.js"></script>
    <script type="text/javascript" src="htmlboard.js"></script>
    <script>

        $(document).ready(function () {

            var items = { 'ChessBoard': $('#chessboard') };

            QUnit.testStart = function (name) {
                items.ChessBoard.html('');
            };

            module('Setup');

            test('The chess board has 64 squares', function () {
                items.ChessBoard.setupBoard();
                equals(items.ChessBoard.find('div').length, 64, 'There are not 64 squares on the board.');
            });

            check_that_eight_squares_for_this_column_exist('A');
            check_that_eight_squares_for_this_column_exist('B');
            check_that_eight_squares_for_this_column_exist('C');
            check_that_eight_squares_for_this_column_exist('D');
            check_that_eight_squares_for_this_column_exist('E');
            check_that_eight_squares_for_this_column_exist('F');
            check_that_eight_squares_for_this_column_exist('G');
            check_that_eight_squares_for_this_column_exist('H');

            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('A');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('B');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('C');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('D');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('E');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('F');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('G');
            check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight('H');

            function check_that_the_eight_rows_for_this_column_are_numbered_one_through_eight(column) {
                test('Column ' + column + ' has rows 1 through 8', function () {
                    items.ChessBoard.setupBoard();
                    for(var index = 1; index < 8; index++)
                        equals(items.ChessBoard.find('.' + column + '.' + index).length, 1, 'Missing row ' + index + ' in column ' + column + '.');
                });

            }

            function check_that_eight_squares_for_this_column_exist(column) {
                test('The chess board contains 8 squares in column ' + column, function () {
                    items.ChessBoard.setupBoard();
                    equals(items.ChessBoard.find('div.' + column).length, 8, 'There are not 8 ' + column + ' squares on the board.');
                });
            }
        });
    </script>
</head>
<body>
    <h1 id="qunit-header">
        QUnit example</h1>
    <h2 id="qunit-banner">
    </h2>
    <div id="qunit-testrunner-toolbar">
    </div>
    <h2 id="qunit-userAgent">
    </h2>
    <ol id="qunit-tests">
    </ol>
    <div id="qunit-fixture">
        <div id="chessboard">
        </div>
    </div>
</body>
</html>
